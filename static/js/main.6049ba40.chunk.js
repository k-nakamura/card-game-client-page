(this["webpackJsonpreact-ts"]=this["webpackJsonpreact-ts"]||[]).push([[0],{153:function(e,t,c){},154:function(e,t,c){},162:function(e,t,c){"use strict";c.r(t);var r=c(2),n=c(0),a=c.n(n),d=c(36),i=c.n(d),l=(c(153),c(154),c(134)),j=c(10),o=c(174),u=c(181),s=c(12),b=c(34),O=c(178),h=c(179),x=c(176),f=c(175),v=["\u81ea\u5206","\u5de6\u96a3","\u6b63\u9762","\u53f3\u96a3"],p=v.map((function(e,t){return{key:"player_"+t,text:e,value:t}})),y="SET_START",m="ADD_HAND",g="PUT_CARD",_="DISCARD_CARD",I="PASS",C="DRAW",w=function(e){return{type:g,payload:{card:e}}},P=function(){return{type:I,payload:{}}},F=c(86),D=function e(t,c){Object(F.a)(this,e),this.card_id=void 0,this.color=void 0,this.card_id=t,this.color=c},R=["0","1","2","3","4","5","6","7","8","9","\u30c9\u30ed\u30fc2","\u30ea\u30d0\u30fc\u30b9","\u30b9\u30ad\u30c3\u30d7","\u30ef\u30a4\u30eb\u30c9","\u30ef\u30a4\u30eb\u30c9\u30c9\u30ed\u30fc4"],S=14,k=R.map((function(e,t){return{key:"card_"+t,text:e,value:t}})),A=["-","\u9752","\u7dd1","\u8d64","\u9ec4"],N=A.map((function(e,t){return{key:"color_"+t,text:e,value:t}})),B="ADD_LOG",T=function(e,t){return{type:B,payload:{playerId:e,card:t}}};function L(){var e=Object(s.b)(),t=Object(n.useState)(0),c=Object(b.a)(t,2),a=c[0],d=c[1],i=Object(n.useState)(0),l=Object(b.a)(i,2),j=l[0],o=l[1],u=Object(n.useState)(0),v=Object(b.a)(u,2),m=v[0],g=v[1],_=(13===a||a===S)===(0!==j);return Object(r.jsxs)(O.a,{children:[Object(r.jsx)(h.a,{children:"\u6700\u521d\u306e\u30ab\u30fc\u30c9\u3068\u89aa\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"}),Object(r.jsxs)(x.a,{children:[Object(r.jsxs)(x.a.Field,{children:[Object(r.jsx)("label",{children:"\u7a2e\u985e"}),Object(r.jsx)(f.a,{selection:!0,options:k,value:a,onChange:function(e,t){return d(Number(t.value))}})]}),Object(r.jsxs)(x.a.Field,{children:[Object(r.jsx)("label",{children:"\u8272"}),Object(r.jsx)(f.a,{selection:!0,options:N,value:j,onChange:function(e,t){return o(Number(t.value))}})]}),Object(r.jsxs)(x.a.Field,{children:[Object(r.jsx)("label",{children:"\u89aa"}),Object(r.jsx)(f.a,{selection:!0,options:p,value:m,onChange:function(e,t){return g(Number(t.value))}})]}),Object(r.jsx)(x.a.Field,{children:Object(r.jsx)(x.a.Button,{content:"\u6c7a\u5b9a",onClick:function(){var t,c;e((t=m,c=new D(a,j),{type:y,payload:{playerId:t,card:c}})),e(T(null,new D(a,j)))},primary:!0,disabled:_})})]}),Object(r.jsx)("div",{})]})}function M(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.game})),c=Object(n.useState)(0),a=Object(b.a)(c,2),d=a[0],i=a[1],l=Object(n.useState)(0),j=Object(b.a)(l,2),o=j[0],u=j[1],v=(13===d||d===S)===(0!==o);return Object(r.jsxs)(O.a,{children:[Object(r.jsxs)(h.a,{children:["\u30c9\u30ed\u30fc\u3057\u305f\u30ab\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044(\u6b8b\u308a: ",t.draw,"\u679a)"]}),Object(r.jsxs)(x.a,{children:[Object(r.jsxs)(x.a.Field,{children:[Object(r.jsx)("label",{children:"\u7a2e\u985e"}),Object(r.jsx)(f.a,{selection:!0,options:k,value:d,onChange:function(e,t){return i(Number(t.value))}})]}),Object(r.jsxs)(x.a.Field,{children:[Object(r.jsx)("label",{children:"\u8272"}),Object(r.jsx)(f.a,{selection:!0,options:N,value:o,onChange:function(e,t){return u(Number(t.value))}})]}),Object(r.jsx)(x.a.Field,{children:Object(r.jsx)(x.a.Button,{content:"\u6c7a\u5b9a",onClick:function(){var t;e((t=new D(d,o),{type:m,payload:{card:t}}))},primary:!0,disabled:v})})]})]})}function E(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.game})),c=Object(n.useState)(0),a=Object(b.a)(c,2),d=a[0],i=a[1],l=Object(n.useState)(0),j=Object(b.a)(l,2),o=j[0],u=j[1];return Object(r.jsxs)(O.a,{children:[Object(r.jsxs)(h.a,{children:[v[t.currentPlayerId],"\u306e\u30d7\u30ec\u30a4\u30e4\u304c\u51fa\u3057\u305f\u30ab\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"]}),Object(r.jsxs)(x.a,{children:[Object(r.jsxs)(x.a.Field,{children:[Object(r.jsx)("label",{children:"\u7a2e\u985e"}),Object(r.jsx)(f.a,{selection:!0,options:k,value:d,onChange:function(e,t){return i(Number(t.value))}})]}),Object(r.jsxs)(x.a.Field,{children:[Object(r.jsx)("label",{children:"\u8272"}),Object(r.jsx)(f.a,{selection:!0,options:N,value:o,onChange:function(e,t){return u(Number(t.value))}})]}),Object(r.jsx)(x.a.Field,{children:Object(r.jsxs)("div",{children:[Object(r.jsx)(x.a.Button,{content:"\u6c7a\u5b9a",onClick:function(){var c=new D(d,o);e(T(t.currentPlayerId,c)),e(w(c))},primary:!0}),Object(r.jsx)(x.a.Button,{content:"\u30d1\u30b9",onClick:function(){e(T(t.currentPlayerId,null)),e(P())},secondary:!0})]})})]})]})}function J(e,t){var c=e.map((function(e,t){return{index:t,card:e}})).sort((function(e,t){return e.card.card_id-t.card.card_id||e.card.color-t.card.color})).find((function(e){return function(e,t){return 0===t.color||13===e.card_id||e.card_id===S||e.card_id===t.card_id||e.color===t.color}(e.card,t)}));return void 0===c?null:c.index}function G(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.game})),c=function(t,c){e({type:_,payload:{index:c}}),e(w(t)),e(T(0,t))};if(null!==t.currentCard){var n=J(t.hand,t.currentCard);if(null===n)return t.hadDrawn?Object(r.jsxs)(O.a,{children:[Object(r.jsx)(h.a,{children:"\u51fa\u3059\u3053\u3068\u306e\u3067\u304d\u308b\u30ab\u30fc\u30c9\u304c\u3042\u308a\u307e\u305b\u3093\u3002\u30d1\u30b9\u3057\u307e\u3059\u3002"}),Object(r.jsx)(x.a,{children:Object(r.jsx)(x.a.Field,{children:Object(r.jsx)(x.a.Button,{content:"\u30d1\u30b9",onClick:function(){e(P()),e(T(0,null))},secondary:!0})})})]}):Object(r.jsxs)(O.a,{children:[Object(r.jsx)(h.a,{children:"\u51fa\u3059\u3053\u3068\u306e\u3067\u304d\u308b\u30ab\u30fc\u30c9\u304c\u3042\u308a\u307e\u305b\u3093\u3002\u30c9\u30ed\u30fc\u3057\u3066\u304f\u3060\u3055\u3044\u3002"}),Object(r.jsx)(x.a,{children:Object(r.jsx)(x.a.Field,{children:Object(r.jsx)(x.a.Button,{content:"\u6c7a\u5b9a",onClick:function(){e({type:C,payload:{}})},primary:!0})})})]});var a,d=t.hand[n];return 13===d.card_id||d.card_id===S?(d=new D(d.card_id,function(e){var t=[e.filter((function(e){return 1===e.color})).length,e.filter((function(e){return 2===e.color})).length,e.filter((function(e){return 3===e.color})).length,e.filter((function(e){return 4===e.color})).length];return t.indexOf(Math.max.apply(Math,t))+1}(t.hand)),a=R[d.card_id]+"(\u8272\u306f"+A[d.color]+"\u3092\u6307\u5b9a)"):a=A[d.color]+" "+R[d.card_id],Object(r.jsxs)(O.a,{children:[Object(r.jsxs)(h.a,{children:[a," \u3092\u51fa\u3057\u307e\u3059\u3002"]}),Object(r.jsx)(x.a,{children:Object(r.jsx)(x.a.Field,{children:Object(r.jsx)(x.a.Button,{content:"\u6c7a\u5b9a",onClick:function(){return c(d,n)},primary:!0})})})]})}return Object(r.jsx)(O.a,{children:Object(r.jsx)(h.a,{children:"\u7570\u5e38\u306a\u72b6\u614b\u3067\u3059"})})}function H(){var e=Object(s.c)((function(e){return e.game}));return 0!==e.draw?Object(r.jsx)(M,{}):null===e.currentCard?Object(r.jsx)(L,{}):0!==e.currentPlayerId?Object(r.jsx)(E,{}):Object(r.jsx)(G,{})}var U=c(177);function W(){var e=Object(s.c)((function(e){return e.log}));return Object(r.jsx)("div",{children:Object(r.jsx)(O.a,{children:Object(r.jsx)(U.a,{divided:!0,children:e.logs.map((function(e,t){var c;return c=null===e.playerId?"\u5f15\u304d\u672d\u306e\u5c71\u304b\u3089":"".concat(v[e.playerId],"\u306e\u30d7\u30ec\u30a4\u30e4\u306f"),null===e.card?c+="\u30d1\u30b9\u3057\u305f":0===e.card.color?c+="".concat(R[e.card.card_id],"\u3092\u51fa\u3057\u305f"):c+="".concat(A[e.card.color]," ").concat(R[e.card.card_id],"\u3092\u51fa\u3057\u305f"),Object(r.jsx)(U.a.Item,{children:c},"log_"+t)}))})})})}function q(){var e=Object(s.c)((function(e){return e.game.hand}));return Object(r.jsx)("div",{children:Object(r.jsx)(O.a,{children:Object(r.jsx)(U.a,{divided:!0,children:e.map((function(e,t){var c="";return 13!==e.card_id&&e.card_id!==S&&(c+=A[e.color]+" "),c+=R[e.card_id],Object(r.jsx)(U.a.Item,{children:c},"hand_"+t)}))})})})}function z(){return Object(r.jsx)("div",{children:Object(r.jsx)(o.a,{className:"main-container",children:Object(r.jsx)(u.a,{children:Object(r.jsxs)(u.a.Row,{centered:!0,children:[Object(r.jsx)(u.a.Column,{width:9,children:Object(r.jsx)(W,{})}),Object(r.jsxs)(u.a.Column,{width:7,children:[Object(r.jsx)(H,{}),Object(r.jsx)(q,{})]})]})})})})}var K=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(l.a,{children:Object(r.jsx)(j.a,{path:"/",component:z})})})},Q=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,182)).then((function(t){var c=t.getCLS,r=t.getFID,n=t.getFCP,a=t.getLCP,d=t.getTTFB;c(e),r(e),n(e),a(e),d(e)}))},V=(c(161),c(62)),X=c(83),Y=c(19),Z=function e(t,c){Object(F.a)(this,e),this.playerId=void 0,this.card=void 0,this.playerId=t,this.card=c},$={logs:[]};var ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object(Y.a)(Object(Y.a)({},e),{},{logs:[].concat(Object(X.a)(e.logs),[new Z(t.payload.playerId,t.payload.card)])});default:return Object(Y.a)({},e)}},te={currentPlayerId:0,currentCard:null,isReversed:!1,hand:[],draw:7,hadDrawn:!1},ce=function(e,t){return t?(e+3)%4:(e+1)%4};var re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;if(t.type===y){var c=Object(Y.a)({},e),r=t.payload.playerId,n=t.payload.card.card_id,a=ce(r,e.isReversed),d=ce(a,e.isReversed);return 10===n?(0===ce(r,!1)&&(c.draw=2),c.currentPlayerId=d):11===n?(c.isReversed=!0,c.currentPlayerId=r):c.currentPlayerId=12===n?d:a,c.currentCard=t.payload.card,c}if(t.type===m)return Object(Y.a)(Object(Y.a)({},e),{},{hand:[].concat(Object(X.a)(e.hand),[t.payload.card]),draw:e.draw-1});if(t.type===g){var i=Object(Y.a)({},e),l=t.payload.card.card_id,j=e.currentPlayerId,o=ce(j,e.isReversed),u=ce(o,e.isReversed);return 10===l?(0===o&&(i.draw=2),i.currentPlayerId=u):11===l?(i.isReversed=!e.isReversed,i.currentPlayerId=ce(j,!e.isReversed)):12===l?i.currentPlayerId=u:l===S?(0===o&&(i.draw=4),i.currentPlayerId=u):i.currentPlayerId=o,i.currentCard=t.payload.card,i.hadDrawn=!1,i}if(t.type===_){var s=Object(X.a)(e.hand);return s.splice(t.payload.index,1),Object(Y.a)(Object(Y.a)({},e),{},{hand:s})}return t.type===I?Object(Y.a)(Object(Y.a)({},e),{},{currentPlayerId:ce(e.currentPlayerId,e.isReversed),hadDrawn:!1}):t.type===C?Object(Y.a)(Object(Y.a)({},e),{},{draw:1,hadDrawn:!0}):Object(Y.a)({},e)},ne=Object(V.b)({log:ee,game:re}),ae=Object(V.c)(ne);i.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(s.a,{store:ae,children:Object(r.jsx)(K,{})})}),document.getElementById("root")),Q()}},[[162,1,2]]]);
//# sourceMappingURL=main.6049ba40.chunk.js.map